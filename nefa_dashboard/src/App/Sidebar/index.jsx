import React, { useEffect, useState } from "react";
import { NavLink, useNavigate } from "react-router-dom";
import Logo from "../../assets/images/Nefa_Logo.png";

const Sidebar = () => {
    const navigate = useNavigate();

    const menuItems = [
        {
            value: "Dashboard",
            icon:
                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                        <path d="M9.324 8.112H2.034C1.092 8.112 0.600002 7.344 0.600002 6.408V2.034C0.574391 1.83963 0.593842 1.64197 0.656851 1.45632C0.71986 1.27066 0.824737 1.102 0.963368 0.963366C1.102 0.824736 1.27067 0.719858 1.45632 0.656849C1.64197 0.59384 1.83963 0.574389 2.034 0.6H9.324C9.51837 0.574389 9.71603 0.59384 9.90169 0.656849C10.0873 0.719858 10.256 0.824736 10.3946 0.963366C10.5333 1.102 10.6381 1.27066 10.7012 1.45632C10.7642 1.64197 10.7836 1.83963 10.758 2.034V6.408C10.758 7.344 10.266 8.112 9.324 8.112ZM2.034 1.8C1.97288 1.80292 1.91504 1.82851 1.87177 1.87177C1.82851 1.91504 1.80292 1.97288 1.8 2.034V6.408C1.8 6.47324 1.82592 6.53581 1.87205 6.58195C1.91819 6.62808 1.98076 6.654 2.046 6.654H9.324C9.38925 6.654 9.45182 6.62808 9.49795 6.58195C9.54408 6.53581 9.57 6.47324 9.57 6.408V2.034C9.56692 1.97086 9.53965 1.91133 9.49384 1.86776C9.44804 1.82419 9.38722 1.79993 9.324 1.8H2.034ZM9.324 23.4H2.034C1.83963 23.4256 1.64197 23.4062 1.45632 23.3432C1.27067 23.2801 1.102 23.1753 0.963368 23.0366C0.824737 22.898 0.71986 22.7293 0.656851 22.5437C0.593842 22.358 0.574391 22.1604 0.600002 21.966V11.766C0.600002 10.83 1.092 10.068 2.034 10.068H9.324C10.266 10.068 10.758 10.83 10.758 11.766V21.966C10.7836 22.1604 10.7642 22.358 10.7012 22.5437C10.6381 22.7293 10.5333 22.898 10.3946 23.0366C10.256 23.1753 10.0873 23.2801 9.90169 23.3432C9.71603 23.4062 9.51837 23.4256 9.324 23.4ZM2.034 11.514C2.00198 11.5132 1.97013 11.5188 1.94031 11.5305C1.9105 11.5422 1.88333 11.5598 1.8604 11.5821C1.83748 11.6045 1.81926 11.6312 1.80683 11.6607C1.79439 11.6903 1.78799 11.722 1.788 11.754V21.954C1.788 22.0192 1.81392 22.0818 1.86005 22.128C1.90619 22.1741 1.96876 22.2 2.034 22.2H9.324C9.38925 22.2 9.45182 22.1741 9.49795 22.128C9.54408 22.0818 9.57 22.0192 9.57 21.954V11.754C9.57001 11.722 9.56361 11.6903 9.55118 11.6607C9.53874 11.6312 9.52052 11.6045 9.4976 11.5821C9.47467 11.5598 9.4475 11.5422 9.41769 11.5305C9.38788 11.5188 9.35602 11.5132 9.324 11.514H2.034ZM21.966 23.4H14.676C14.4816 23.4256 14.284 23.4062 14.0983 23.3432C13.9127 23.2801 13.744 23.1753 13.6054 23.0366C13.4667 22.898 13.3619 22.7293 13.2989 22.5437C13.2358 22.358 13.2164 22.1604 13.242 21.966V17.592C13.242 16.656 13.734 15.888 14.676 15.888H21.966C22.908 15.888 23.4 16.656 23.4 17.592V21.966C23.4256 22.1604 23.4062 22.358 23.3432 22.5437C23.2801 22.7293 23.1753 22.898 23.0366 23.0366C22.898 23.1753 22.7293 23.2801 22.5437 23.3432C22.358 23.4062 22.1604 23.4256 21.966 23.4ZM14.676 17.346C14.6108 17.346 14.5482 17.3719 14.5021 17.4181C14.4559 17.4642 14.43 17.5268 14.43 17.592V21.966C14.43 22.0312 14.4559 22.0938 14.5021 22.1399C14.5482 22.1861 14.6108 22.212 14.676 22.212H21.966C22.0312 22.212 22.0938 22.1861 22.1399 22.1399C22.1861 22.0938 22.212 22.0312 22.212 21.966V17.592C22.212 17.5268 22.1861 17.4642 22.1399 17.4181C22.0938 17.3719 22.0312 17.346 21.966 17.346H14.676ZM21.966 13.944H14.676C13.734 13.944 13.242 13.182 13.242 12.246V2.046C13.2143 1.85071 13.2323 1.65167 13.2944 1.46447C13.3565 1.27726 13.4611 1.10697 13.5999 0.966918C13.7388 0.826871 13.9082 0.72087 14.0949 0.657214C14.2816 0.593559 14.4805 0.573976 14.676 0.6H21.966C22.1604 0.574389 22.358 0.59384 22.5437 0.656849C22.7293 0.719858 22.898 0.824736 23.0366 0.963366C23.1753 1.102 23.2801 1.27066 23.3432 1.45632C23.4062 1.64197 23.4256 1.83963 23.4 2.034V12.234C23.4 13.2 22.908 13.944 21.966 13.944ZM14.676 1.8C14.6108 1.8 14.5482 1.82592 14.5021 1.87205C14.4559 1.91819 14.43 1.98076 14.43 2.046V12.246C14.43 12.278 14.4364 12.3097 14.4488 12.3393C14.4613 12.3688 14.4795 12.3955 14.5024 12.4179C14.5253 12.4402 14.5525 12.4578 14.5823 12.4695C14.6121 12.4812 14.644 12.4868 14.676 12.486H21.966C21.998 12.4868 22.0299 12.4812 22.0597 12.4695C22.0895 12.4578 22.1167 12.4402 22.1396 12.4179C22.1625 12.3955 22.1807 12.3688 22.1932 12.3393C22.2056 12.3097 22.212 12.278 22.212 12.246V2.046C22.212 1.98076 22.1861 1.91819 22.1399 1.87205C22.0938 1.82592 22.0312 1.8 21.966 1.8H14.676Z" />
                    </svg>
                </div>
            ,
            route: "/",
        },
        {
            value: "Trips",
            icon:
                <div>
                    <svg width="24" height="24" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_624_106)">
                            <path d="M19.8438 5C19.75 4.9375 19.625 4.90625 19.5312 4.96875L13.1562 7.25L8.6875 5.625C8.9375 5 9.0625 4.4375 9.0625 3.96875C9.0625 3.125 8.75 2.375 8.15625 1.78125C7.5625 1.1875 6.78125 0.875 5.96875 0.875C4.25 0.875 2.875 2.25 2.875 3.96875C2.875 4.5625 3.09375 5.28125 3.46875 6.15625L0.21875 7.25C0.09375 7.3125 0 7.4375 0 7.5625V18.8125C0 18.9375 0.0625 19.0312 0.15625 19.0937C0.21875 19.125 0.28125 19.1562 0.34375 19.1562C0.375 19.1562 0.4375 19.1563 0.46875 19.125L6.84375 16.875L13.0313 19.1562C13.0938 19.1875 13.1875 19.1875 13.25 19.1562L19.75 16.8438C19.875 16.7813 19.9688 16.6563 19.9688 16.5313V5.28125C20 5.15625 19.9375 5.0625 19.8438 5ZM5.96875 1.5C6.625 1.5 7.21875 1.75 7.65625 2.21875C8.125 2.65625 8.375 3.28125 8.375 3.90625C8.375 4.34375 8.21875 4.9375 7.90625 5.625C7.34375 6.875 6.40625 8.1875 5.96875 8.78125C5.90625 8.71875 5.875 8.65625 5.8125 8.5625C5.40625 8 4.75 7.0625 4.28125 6.09375C3.8125 5.1875 3.59375 4.4375 3.59375 3.875C3.5625 2.59375 4.65625 1.5 5.96875 1.5ZM19.3125 16.2812L13.1562 18.4687L6.96875 16.1875C6.9375 16.1875 6.875 16.1563 6.84375 16.1563C6.8125 16.1563 6.75 16.1562 6.71875 16.1875L0.6875 18.3438V7.8125L3.8125 6.71875C3.8125 6.71875 3.8125 6.71875 3.8125 6.75C3.84375 6.78125 3.84375 6.8125 3.875 6.84375C3.90625 6.90625 3.9375 6.96875 3.96875 7.03125C4 7.0625 4 7.09375 4.03125 7.125C4.0625 7.1875 4.09375 7.25 4.125 7.3125C4.15625 7.34375 4.15625 7.375 4.1875 7.40625C4.21875 7.46875 4.25 7.53125 4.28125 7.5625C4.3125 7.59375 4.3125 7.625 4.34375 7.65625C4.375 7.71875 4.40625 7.75 4.4375 7.8125C4.46875 7.84375 4.46875 7.875 4.5 7.90625C4.53125 7.96875 4.5625 8 4.59375 8.0625C4.625 8.09375 4.625 8.125 4.65625 8.15625C4.6875 8.21875 4.71875 8.25 4.75 8.3125C4.78125 8.34375 4.78125 8.375 4.8125 8.40625C4.84375 8.46875 4.875 8.5 4.90625 8.5625C4.9375 8.59375 4.9375 8.625 4.96875 8.625C5 8.6875 5.03125 8.71875 5.0625 8.75C5.0625 8.78125 5.09375 8.78125 5.09375 8.8125C5.125 8.875 5.15625 8.90625 5.1875 8.9375L5.21875 8.96875C5.25 9 5.28125 9.0625 5.3125 9.09375L5.34375 9.125C5.375 9.15625 5.40625 9.21875 5.4375 9.25C5.46875 9.28125 5.5 9.3125 5.53125 9.34375C5.59375 9.4375 5.65625 9.5 5.65625 9.53125C5.71875 9.625 5.8125 9.65625 5.9375 9.65625C6.03125 9.65625 6.125 9.59375 6.21875 9.53125C6.21875 9.53125 6.25 9.5 6.3125 9.4375L6.34375 9.40625C6.375 9.375 6.375 9.375 6.40625 9.34375L6.4375 9.3125C6.46875 9.28125 6.46875 9.25 6.5 9.21875C6.5 9.1875 6.53125 9.1875 6.53125 9.15625C6.5625 9.125 6.59375 9.09375 6.59375 9.0625C6.625 9.03125 6.625 9 6.65625 8.96875C6.6875 8.9375 6.71875 8.90625 6.75 8.84375C6.78125 8.8125 6.78125 8.78125 6.8125 8.75C6.84375 8.71875 6.875 8.6875 6.90625 8.625C6.9375 8.59375 6.96875 8.5625 6.96875 8.53125C7 8.5 7.03125 8.4375 7.0625 8.40625C7.09375 8.375 7.125 8.3125 7.15625 8.28125C7.1875 8.25 7.21875 8.1875 7.25 8.15625C7.28125 8.125 7.3125 8.0625 7.34375 8.03125C7.375 7.96875 7.40625 7.9375 7.4375 7.875C7.46875 7.84375 7.5 7.78125 7.53125 7.75C7.5625 7.6875 7.59375 7.65625 7.625 7.59375C7.65625 7.53125 7.6875 7.5 7.71875 7.4375C7.75 7.375 7.78125 7.34375 7.8125 7.28125C7.84375 7.21875 7.875 7.1875 7.90625 7.125C7.9375 7.0625 7.96875 7.03125 8 6.96875C8.03125 6.90625 8.0625 6.875 8.09375 6.8125C8.125 6.75 8.15625 6.71875 8.1875 6.65625C8.21875 6.59375 8.25 6.5625 8.28125 6.5C8.3125 6.4375 8.34375 6.375 8.375 6.34375C8.40625 6.28125 8.4375 6.25 8.4375 6.1875C8.4375 6.1875 8.4375 6.1875 8.4375 6.15625L13.0625 7.84375C13.125 7.875 13.2187 7.875 13.2812 7.84375L19.3125 5.6875V16.2812Z" />
                            <path d="M16.4064 13.25C16.4689 13.2813 16.5626 13.2813 16.6251 13.2813C16.8126 13.2813 17.0001 13.2188 17.1564 13.125C17.3751 12.9688 17.5314 12.75 17.5939 12.5C17.6564 12.25 17.5939 11.9688 17.4689 11.75C17.3126 11.5313 17.0939 11.375 16.8439 11.3125C16.3126 11.1875 15.7501 11.5313 15.6251 12.0625C15.5626 12.3125 15.6251 12.5938 15.7501 12.8125C15.9376 13.0313 16.1564 13.1875 16.4064 13.25ZM16.3126 12.1875C16.3439 12 16.5314 11.9063 16.6876 11.9375C16.7814 11.9688 16.8439 12 16.8751 12.0938C16.9064 12.1563 16.9376 12.25 16.9064 12.3438C16.8751 12.4375 16.8439 12.5 16.7501 12.5313C16.6876 12.5625 16.5939 12.5938 16.5001 12.5625C16.4064 12.5313 16.3439 12.5 16.3126 12.4063C16.3126 12.3438 16.3126 12.2813 16.3126 12.1875Z" />
                            <path d="M3.43759 12.2187L3.21884 12.3437L3.09384 12.125C3.00009 11.9687 2.78134 11.9062 2.62509 12.0312C2.46884 12.125 2.40634 12.3437 2.53134 12.5L2.65634 12.7187L2.43759 12.8437C2.28134 12.9375 2.21884 13.1562 2.34384 13.3125C2.37509 13.4375 2.50009 13.4687 2.59384 13.4687C2.65634 13.4687 2.71884 13.4375 2.78134 13.4062L3.00009 13.2812L3.12509 13.5C3.18759 13.5937 3.31259 13.6562 3.40634 13.6562C3.46884 13.6562 3.53134 13.625 3.59384 13.5937C3.75009 13.5 3.81259 13.2812 3.68759 13.125L3.56259 12.9062L3.78134 12.7812C3.93759 12.6875 4.00009 12.4687 3.87509 12.3125C3.81259 12.1562 3.59384 12.125 3.43759 12.2187Z" />
                            <path d="M6.65615 13.1562C6.2499 13.1562 5.71865 13.0937 5.3749 13C5.1874 12.9687 4.9999 13.0937 4.96865 13.2812C4.9374 13.4687 5.0624 13.6562 5.2499 13.6875C5.59365 13.75 6.15615 13.8437 6.65615 13.8437C6.84365 13.8437 6.9999 13.6875 6.9999 13.5C6.9999 13.3125 6.84365 13.1562 6.65615 13.1562Z" />
                            <path d="M9.21875 11.9687C9 12.2812 8.75 12.5312 8.4375 12.7187C8.34375 12.7812 8.21875 12.8437 8.09375 12.9062C7.90625 12.9687 7.84375 13.1875 7.90625 13.375C7.96875 13.5 8.09375 13.5937 8.21875 13.5937C8.25 13.5937 8.3125 13.5937 8.34375 13.5625C8.5 13.5 8.625 13.4375 8.75 13.3437C9.125 13.0937 9.4375 12.8125 9.71875 12.4375C9.84375 12.2812 9.8125 12.0625 9.65625 11.9687C9.5625 11.7812 9.34375 11.8125 9.21875 11.9687Z" />
                            <path d="M11.7187 9.71875C11.375 9.71875 11.1875 9.8125 11 9.875C10.5625 10.0625 10.1875 10.4688 10.0937 10.5938C9.96873 10.75 9.99999 10.9687 10.125 11.0937C10.1875 11.1562 10.2812 11.1875 10.3437 11.1875C10.4375 11.1875 10.5312 11.1563 10.5937 11.0625C10.75 10.875 11 10.6563 11.25 10.5313C11.4375 10.4688 11.5 10.4375 11.7187 10.4062C11.9062 10.4062 12.0625 10.25 12.0625 10.0625C12.0625 9.875 11.9062 9.71875 11.7187 9.71875Z" />
                            <path d="M13 10.25C12.9375 10.4375 13 10.625 13.1875 10.7188C13.5313 10.875 14.0312 11.125 14.4062 11.4063C14.4687 11.4375 14.5313 11.4688 14.5938 11.4688C14.7188 11.4688 14.8125 11.4063 14.875 11.3125C14.9687 11.1563 14.9375 10.9375 14.7813 10.8438C14.3438 10.5625 13.8438 10.2813 13.4375 10.125C13.2813 10 13.0937 10.0938 13 10.25Z" />
                            <path d="M5.96875 4.75C6.5625 4.75 7.03125 4.28125 7.03125 3.6875C7.03125 3.09375 6.5625 2.625 5.96875 2.625C5.375 2.625 4.90625 3.09375 4.90625 3.6875C4.90625 4.28125 5.40625 4.75 5.96875 4.75ZM5.96875 3.3125C6.15625 3.3125 6.34375 3.46875 6.34375 3.6875C6.34375 3.875 6.1875 4.0625 5.96875 4.0625C5.78125 4.0625 5.59375 3.90625 5.59375 3.6875C5.625 3.5 5.78125 3.3125 5.96875 3.3125Z" />
                        </g>
                        <defs>
                            <clipPath id="clip0_624_106">
                                <rect width="20" height="20" />
                            </clipPath>
                        </defs>
                    </svg>
                </div>
            ,
            route: "/trips",
        },
        {
            value: "Drivers",
            icon:
                <div>
                    <svg width="24" height="24" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_624_141)">
                            <path d="M10 0C4.5 0 0 4.5 0 10C0 15.5 4.5 20 10 20C15.5 20 20 15.5 20 10C20 4.5 15.5 0 10 0ZM10 19.3125C4.875 19.3125 0.6875 15.125 0.6875 10C0.6875 4.875 4.875 0.6875 10 0.6875C15.125 0.6875 19.3125 4.875 19.3125 10C19.3125 15.125 15.125 19.3125 10 19.3125Z" />
                            <path d="M10 1.84375C5.5 1.84375 1.84375 5.5 1.84375 10C1.84375 14.5 5.5 18.1563 10 18.1563C14.5 18.1563 18.1563 14.5 18.1563 10C18.1563 5.5 14.5 1.84375 10 1.84375ZM10.3438 17.4375V16.4688C10.3438 16.2813 10.1875 16.125 10 16.125C9.8125 16.125 9.65625 16.2813 9.65625 16.4688V17.4375C5.8125 17.2813 2.71875 14.1875 2.5625 10.3438H3.53125C3.71875 10.3438 3.875 10.1875 3.875 10C3.875 9.8125 3.71875 9.65625 3.53125 9.65625H2.5625C2.71875 5.8125 5.8125 2.71875 9.65625 2.5625V3.53125C9.65625 3.71875 9.8125 3.875 10 3.875C10.1875 3.875 10.3438 3.71875 10.3438 3.53125V2.5625C14.1875 2.75 17.2813 5.84375 17.4375 9.65625H16.4688C16.2813 9.65625 16.125 9.8125 16.125 10C16.125 10.1875 16.2813 10.3438 16.4688 10.3438H17.4375C17.2813 14.1875 14.1875 17.2813 10.3438 17.4375Z" />
                            <path d="M10 8.84375C9.375 8.84375 8.84375 9.34375 8.84375 10C8.84375 10.6563 9.34375 11.1563 10 11.1563C10.6563 11.1563 11.1563 10.6563 11.1563 10C11.1563 9.34375 10.625 8.84375 10 8.84375ZM10 10.4688C9.75 10.4688 9.53125 10.25 9.53125 10C9.53125 9.75 9.75 9.53125 10 9.53125C10.25 9.53125 10.4688 9.75 10.4688 10C10.4688 10.25 10.25 10.4688 10 10.4688Z" />
                            <path d="M15.5 9.6875L11.7813 8.25L10.3437 4.5C10.2812 4.375 10.1562 4.28125 10.0312 4.28125C9.875 4.28125 9.75 4.375 9.71875 4.5L8.28125 8.25L4.53125 9.6875C4.40625 9.75 4.3125 9.875 4.3125 10C4.3125 10.1562 4.40625 10.2812 4.53125 10.3125L8.28125 11.75L9.6875 15.5C9.75 15.625 9.875 15.7187 10 15.7187C10.1563 15.7187 10.2813 15.625 10.3125 15.5L11.75 11.75L15.5 10.3125C15.625 10.25 15.7188 10.125 15.7188 10C15.7187 9.875 15.625 9.71875 15.5 9.6875ZM11.375 11.1562C11.2813 11.1875 11.2188 11.25 11.1875 11.3437L10 14.4062L8.84375 11.375C8.8125 11.2813 8.75 11.2187 8.65625 11.1875L5.59375 10L8.65625 8.84375C8.75 8.8125 8.8125 8.75 8.84375 8.65625L10 5.59375L11.1563 8.65625C11.1875 8.75 11.25 8.8125 11.3438 8.84375L14.375 10L11.375 11.1562Z" />
                        </g>
                        <defs>
                            <clipPath id="clip0_624_141">
                                <rect width="20" height="20" />
                            </clipPath>
                        </defs>
                    </svg>

                </div>,
            route: "/drivers",
            subMenu: [
                {
                    value: "Add new Driver",
                    icon:
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21">
                                <path d="M11.225 7.74212C11.1636 7.6849 11.1143 7.6159 11.0802 7.53924C11.046 7.46257 11.0277 7.37981 11.0262 7.29589C11.0247 7.21197 11.0401 7.12861 11.0716 7.05079C11.103 6.97297 11.1498 6.90227 11.2091 6.84292C11.2685 6.78357 11.3392 6.73679 11.417 6.70535C11.4948 6.67392 11.5782 6.65848 11.6621 6.65996C11.746 6.66144 11.8288 6.67981 11.9054 6.71397C11.9821 6.74813 12.0511 6.79738 12.1083 6.85879L15.4417 10.1921C15.5587 10.3093 15.6245 10.4682 15.6245 10.6338C15.6245 10.7994 15.5587 10.9583 15.4417 11.0755L12.1083 14.4088C12.0511 14.4702 11.9821 14.5194 11.9054 14.5536C11.8288 14.5878 11.746 14.6061 11.6621 14.6076C11.5782 14.6091 11.4948 14.5937 11.417 14.5622C11.3392 14.5308 11.2685 14.484 11.2091 14.4247C11.1498 14.3653 11.103 14.2946 11.0716 14.2168C11.0401 14.139 11.0247 14.0556 11.0262 13.9717C11.0277 13.8878 11.046 13.805 11.0802 13.7283C11.1143 13.6517 11.1636 13.5827 11.225 13.5255L13.4917 11.2588L5.41667 11.2588C5.25091 11.2588 5.09193 11.1929 4.97472 11.0757C4.85751 10.9585 4.79167 10.7995 4.79167 10.6338C4.79167 10.468 4.85751 10.3091 4.97472 10.1918C5.09194 10.0746 5.25091 10.0088 5.41667 10.0088L13.4917 10.0088L11.225 7.74212Z" />
                            </svg>
                        </div>,
                    route: "/addDriver",
                },
                {
                    value: "All Drivers",
                    icon:
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21">
                                <path d="M11.225 7.74212C11.1636 7.6849 11.1143 7.6159 11.0802 7.53924C11.046 7.46257 11.0277 7.37981 11.0262 7.29589C11.0247 7.21197 11.0401 7.12861 11.0716 7.05079C11.103 6.97297 11.1498 6.90227 11.2091 6.84292C11.2685 6.78357 11.3392 6.73679 11.417 6.70535C11.4948 6.67392 11.5782 6.65848 11.6621 6.65996C11.746 6.66144 11.8288 6.67981 11.9054 6.71397C11.9821 6.74813 12.0511 6.79738 12.1083 6.85879L15.4417 10.1921C15.5587 10.3093 15.6245 10.4682 15.6245 10.6338C15.6245 10.7994 15.5587 10.9583 15.4417 11.0755L12.1083 14.4088C12.0511 14.4702 11.9821 14.5194 11.9054 14.5536C11.8288 14.5878 11.746 14.6061 11.6621 14.6076C11.5782 14.6091 11.4948 14.5937 11.417 14.5622C11.3392 14.5308 11.2685 14.484 11.2091 14.4247C11.1498 14.3653 11.103 14.2946 11.0716 14.2168C11.0401 14.139 11.0247 14.0556 11.0262 13.9717C11.0277 13.8878 11.046 13.805 11.0802 13.7283C11.1143 13.6517 11.1636 13.5827 11.225 13.5255L13.4917 11.2588L5.41667 11.2588C5.25091 11.2588 5.09193 11.1929 4.97472 11.0757C4.85751 10.9585 4.79167 10.7995 4.79167 10.6338C4.79167 10.468 4.85751 10.3091 4.97472 10.1918C5.09194 10.0746 5.25091 10.0088 5.41667 10.0088L13.4917 10.0088L11.225 7.74212Z" />
                            </svg>
                        </div>,
                    route: "/drivers",
                },
            ]
        },
        {
            value: "Vehicle",
            icon:
                <div>
                    <svg width="30" height="30" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3.65625 11.9375C3.09375 11.9375 2.65625 12.375 2.65625 12.9375C2.65625 13.5 3.09375 13.9375 3.65625 13.9375C4.21875 13.9375 4.65625 13.5 4.65625 12.9375C4.65625 12.375 4.21875 11.9375 3.65625 11.9375ZM3.65625 13.25C3.46875 13.25 3.34375 13.125 3.34375 12.9375C3.34375 12.75 3.46875 12.625 3.65625 12.625C3.84375 12.625 3.96875 12.75 3.96875 12.9375C3.96875 13.0938 3.84375 13.25 3.65625 13.25Z" />
                        <path d="M15.0938 11.9375C14.5313 11.9375 14.0938 12.375 14.0938 12.9375C14.0938 13.5 14.5313 13.9375 15.0938 13.9375C15.6563 13.9375 16.0938 13.5 16.0938 12.9375C16.0938 12.375 15.6563 11.9375 15.0938 11.9375ZM15.0938 13.25C14.9063 13.25 14.7813 13.125 14.7813 12.9375C14.7813 12.75 14.9063 12.625 15.0938 12.625C15.2813 12.625 15.4063 12.75 15.4063 12.9375C15.4063 13.0938 15.2813 13.25 15.0938 13.25Z" />
                        <path d="M19.1562 7.78125H18.9688C18.75 6.46875 17.3125 4.78125 15.2188 4.78125H8.125C6.25 4.78125 4.625 7.625 4.21875 8.40625H2.40625C1.0625 8.40625 0 9.5 0 10.8125V12.5625C0 12.9375 0.3125 13.25 0.6875 13.25H1.40625C1.5625 14.3438 2.53125 15.1875 3.65625 15.1875C4.78125 15.1875 5.75 14.3438 5.90625 13.25H12.8437C13 14.3438 13.9687 15.1875 15.0937 15.1875C16.2187 15.1875 17.1875 14.3438 17.3438 13.25H18.3125C18.6875 13.25 19 12.9375 19 12.5625V10.9375H19.1562C19.625 10.9375 20 10.5625 20 10.0938V8.625C20 8.15625 19.625 7.78125 19.1562 7.78125ZM3.65625 14.5C2.78125 14.5 2.0625 13.7812 2.0625 12.9062C2.0625 12.0313 2.78125 11.3125 3.65625 11.3125C4.53125 11.3125 5.25 12.0313 5.25 12.9062C5.25 13.8125 4.53125 14.5 3.65625 14.5ZM15.0937 14.5C14.2187 14.5 13.5 13.7812 13.5 12.9062C13.5 12.0313 14.2187 11.3125 15.0937 11.3125C15.9687 11.3125 16.6875 12.0313 16.6875 12.9062C16.6875 13.8125 15.9687 14.5 15.0937 14.5ZM18.3125 12.5938H17.3438C17.1875 11.5 16.2187 10.6562 15.0937 10.6562C13.9687 10.6562 13 11.5 12.8437 12.5938H5.90625C5.75 11.5 4.78125 10.6562 3.65625 10.6562C2.53125 10.6562 1.5625 11.5 1.40625 12.5938H0.6875V10.8438C0.6875 9.90625 1.46875 9.125 2.40625 9.125H4.40625C4.53125 9.125 4.65625 9.0625 4.71875 8.9375C5.1875 7.96875 6.71875 5.5 8.125 5.5H15.1875C17.125 5.5 18.2812 7.21875 18.2812 8.15625V10.625V12.5938H18.3125ZM19.3125 10.0938C19.3125 10.1875 19.25 10.25 19.1562 10.25H19V8.46875H19.1562C19.25 8.46875 19.3125 8.53125 19.3125 8.625V10.0938Z" />
                        <path d="M11.2188 6.21875H8.90625C8 6.21875 7.125 6.65625 6.65625 7.40625L5.875 8.59375C5.8125 8.6875 5.8125 8.84375 5.875 8.9375C5.9375 9.0625 6.0625 9.125 6.1875 9.125H11.2188C11.4063 9.125 11.5625 8.96875 11.5625 8.78125V6.5625C11.5625 6.375 11.4063 6.21875 11.2188 6.21875ZM10.875 8.4375H6.8125L7.25 7.78125C7.59375 7.25 8.21875 6.90625 8.90625 6.90625H10.875V8.4375Z" />
                        <path d="M14.625 6.21875H12.6562C12.4687 6.21875 12.3125 6.375 12.3125 6.5625V8.78125C12.3125 8.96875 12.4687 9.125 12.6562 9.125H17C17.1875 9.125 17.3437 8.96875 17.3437 8.78125C17.375 7.375 16.1562 6.21875 14.625 6.21875ZM13.0312 8.4375V6.90625H14.6562C15.6563 6.90625 16.5 7.5625 16.6562 8.4375H13.0312Z" />
                    </svg>
                </div>,
            route: "/vehicles",
            subMenu: [
                {
                    value: "Add Vehicle",
                    icon:
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21">
                                <path d="M11.225 7.74212C11.1636 7.6849 11.1143 7.6159 11.0802 7.53924C11.046 7.46257 11.0277 7.37981 11.0262 7.29589C11.0247 7.21197 11.0401 7.12861 11.0716 7.05079C11.103 6.97297 11.1498 6.90227 11.2091 6.84292C11.2685 6.78357 11.3392 6.73679 11.417 6.70535C11.4948 6.67392 11.5782 6.65848 11.6621 6.65996C11.746 6.66144 11.8288 6.67981 11.9054 6.71397C11.9821 6.74813 12.0511 6.79738 12.1083 6.85879L15.4417 10.1921C15.5587 10.3093 15.6245 10.4682 15.6245 10.6338C15.6245 10.7994 15.5587 10.9583 15.4417 11.0755L12.1083 14.4088C12.0511 14.4702 11.9821 14.5194 11.9054 14.5536C11.8288 14.5878 11.746 14.6061 11.6621 14.6076C11.5782 14.6091 11.4948 14.5937 11.417 14.5622C11.3392 14.5308 11.2685 14.484 11.2091 14.4247C11.1498 14.3653 11.103 14.2946 11.0716 14.2168C11.0401 14.139 11.0247 14.0556 11.0262 13.9717C11.0277 13.8878 11.046 13.805 11.0802 13.7283C11.1143 13.6517 11.1636 13.5827 11.225 13.5255L13.4917 11.2588L5.41667 11.2588C5.25091 11.2588 5.09193 11.1929 4.97472 11.0757C4.85751 10.9585 4.79167 10.7995 4.79167 10.6338C4.79167 10.468 4.85751 10.3091 4.97472 10.1918C5.09194 10.0746 5.25091 10.0088 5.41667 10.0088L13.4917 10.0088L11.225 7.74212Z" />
                            </svg>
                        </div>,
                    route: "/addVehicle",
                },
                {
                    value: "View All Vehicles",
                    icon:
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21">
                                <path d="M11.225 7.74212C11.1636 7.6849 11.1143 7.6159 11.0802 7.53924C11.046 7.46257 11.0277 7.37981 11.0262 7.29589C11.0247 7.21197 11.0401 7.12861 11.0716 7.05079C11.103 6.97297 11.1498 6.90227 11.2091 6.84292C11.2685 6.78357 11.3392 6.73679 11.417 6.70535C11.4948 6.67392 11.5782 6.65848 11.6621 6.65996C11.746 6.66144 11.8288 6.67981 11.9054 6.71397C11.9821 6.74813 12.0511 6.79738 12.1083 6.85879L15.4417 10.1921C15.5587 10.3093 15.6245 10.4682 15.6245 10.6338C15.6245 10.7994 15.5587 10.9583 15.4417 11.0755L12.1083 14.4088C12.0511 14.4702 11.9821 14.5194 11.9054 14.5536C11.8288 14.5878 11.746 14.6061 11.6621 14.6076C11.5782 14.6091 11.4948 14.5937 11.417 14.5622C11.3392 14.5308 11.2685 14.484 11.2091 14.4247C11.1498 14.3653 11.103 14.2946 11.0716 14.2168C11.0401 14.139 11.0247 14.0556 11.0262 13.9717C11.0277 13.8878 11.046 13.805 11.0802 13.7283C11.1143 13.6517 11.1636 13.5827 11.225 13.5255L13.4917 11.2588L5.41667 11.2588C5.25091 11.2588 5.09193 11.1929 4.97472 11.0757C4.85751 10.9585 4.79167 10.7995 4.79167 10.6338C4.79167 10.468 4.85751 10.3091 4.97472 10.1918C5.09194 10.0746 5.25091 10.0088 5.41667 10.0088L13.4917 10.0088L11.225 7.74212Z" />
                            </svg>
                        </div>,
                    route: "/vehicles",
                },
            ]
        },
        {
            value: "LogOut",
            icon: <div>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                    <g clip-path="url(#clip0_876_164)">
                        <path d="M14.16 8.44197C13.9875 8.44208 13.8216 8.37522 13.6974 8.25546C13.5731 8.13571 13.5002 7.97241 13.494 7.79997V3.77397C13.494 3.6277 13.4651 3.48287 13.4089 3.3478C13.3528 3.21274 13.2705 3.0901 13.1668 2.98695C13.0631 2.8838 12.94 2.80216 12.8046 2.74674C12.6693 2.69131 12.5243 2.66318 12.378 2.66397H2.40001C2.31255 2.66397 2.22594 2.64674 2.14514 2.61327C2.06434 2.5798 1.99092 2.53075 1.92908 2.4689C1.86723 2.40706 1.81817 2.33364 1.78471 2.25284C1.75124 2.17203 1.73401 2.08543 1.73401 1.99797C1.73401 1.91051 1.75124 1.82391 1.78471 1.7431C1.81817 1.6623 1.86723 1.58888 1.92908 1.52704C1.99092 1.46519 2.06434 1.41614 2.14514 1.38267C2.22594 1.3492 2.31255 1.33197 2.40001 1.33197H12.378C13.0262 1.33197 13.648 1.58906 14.1069 2.04685C14.5658 2.50464 14.8244 3.12576 14.826 3.77397V7.79997C14.8198 7.97241 14.7469 8.13571 14.6227 8.25546C14.4984 8.37522 14.3326 8.44208 14.16 8.44197ZM12.36 20.004H8.82601C8.65951 19.9882 8.50488 19.9109 8.39234 19.7872C8.2798 19.6635 8.21744 19.5022 8.21744 19.335C8.21744 19.1677 8.2798 19.0065 8.39234 18.8828C8.50488 18.7591 8.65951 18.6818 8.82601 18.666H12.378C12.5243 18.6668 12.6693 18.6386 12.8046 18.5832C12.94 18.5278 13.0631 18.4461 13.1668 18.343C13.2705 18.2398 13.3528 18.1172 13.4089 17.9821C13.4651 17.8471 13.494 17.7022 13.494 17.556V13.554C13.494 13.3773 13.5642 13.2079 13.6891 13.083C13.814 12.9581 13.9834 12.888 14.16 12.888C14.3366 12.888 14.506 12.9581 14.6309 13.083C14.7558 13.2079 14.826 13.3773 14.826 13.554V17.556C14.826 17.8774 14.7627 18.1958 14.6397 18.4928C14.5166 18.7898 14.3363 19.0597 14.109 19.287C13.8817 19.5143 13.6118 19.6946 13.3148 19.8176C13.0178 19.9407 12.6995 20.004 12.378 20.004H12.36Z" />
                        <path d="M21.27 11.334H12.828C12.7405 11.334 12.6539 11.3168 12.5731 11.2833C12.4923 11.2498 12.4189 11.2008 12.3571 11.1389C12.2952 11.0771 12.2462 11.0037 12.2127 10.9229C12.1792 10.8421 12.162 10.7555 12.162 10.668C12.162 10.5806 12.1792 10.4939 12.2127 10.4131C12.2462 10.3323 12.2952 10.2589 12.3571 10.1971C12.4189 10.1352 12.4923 10.0862 12.5731 10.0527C12.6539 10.0192 12.7405 10.002 12.828 10.002H21.27C21.4466 10.002 21.616 10.0722 21.7409 10.1971C21.8658 10.322 21.936 10.4914 21.936 10.668C21.936 10.8446 21.8658 11.014 21.7409 11.1389C21.616 11.2638 21.4466 11.334 21.27 11.334Z" />
                        <path d="M7.70998 22.668C7.52461 22.67 7.34017 22.6416 7.16398 22.584L1.79998 20.802C1.44985 20.6782 1.14657 20.4492 0.931739 20.1462C0.716903 19.8433 0.601019 19.4814 0.599976 19.11V3.10801C0.599976 2.63062 0.789618 2.17278 1.12718 1.83521C1.46475 1.49765 1.92259 1.30801 2.39998 1.30801C2.58734 1.30557 2.77382 1.33395 2.95198 1.39201L8.30398 3.19201C8.65411 3.31579 8.95738 3.54485 9.17221 3.84777C9.38705 4.15068 9.50293 4.51264 9.50398 4.88401V20.892C9.49768 21.3642 9.30609 21.815 8.97049 22.1472C8.6349 22.4794 8.1822 22.6665 7.70998 22.668ZM2.39998 2.66401C2.34167 2.66401 2.28393 2.67549 2.23006 2.6978C2.1762 2.72012 2.12725 2.75282 2.08602 2.79405C2.04479 2.83528 2.01209 2.88423 1.98977 2.93809C1.96746 2.99196 1.95598 3.0497 1.95598 3.10801V19.11C1.957 19.2054 1.98755 19.2982 2.04341 19.3755C2.09928 19.4529 2.17773 19.511 2.26798 19.542L7.58998 21.342C7.63775 21.3486 7.6862 21.3486 7.73398 21.342C7.85229 21.342 7.96585 21.2954 8.05007 21.2123C8.13429 21.1292 8.1824 21.0163 8.18398 20.898V4.89C8.18126 4.79502 8.15007 4.70304 8.09443 4.62601C8.0388 4.54898 7.96129 4.49044 7.87198 4.458L2.54998 2.65801C2.50022 2.65103 2.44973 2.65103 2.39998 2.65801V2.66401Z" />
                        <path d="M19.398 14.67C19.2672 14.6672 19.14 14.6264 19.032 14.5523C18.9241 14.4783 18.8402 14.3744 18.7905 14.2533C18.7408 14.1323 18.7275 13.9993 18.7523 13.8708C18.7771 13.7423 18.8388 13.6239 18.93 13.53L21.792 10.668L18.93 7.8C18.8678 7.73814 18.8183 7.66464 18.7845 7.58367C18.7506 7.50271 18.7331 7.41587 18.7328 7.32812C18.7322 7.15089 18.8021 6.98071 18.927 6.855C19.0519 6.72928 19.2217 6.65834 19.3989 6.65778C19.4866 6.6575 19.5736 6.67451 19.6548 6.70783C19.7359 6.74116 19.8098 6.79014 19.872 6.852L23.202 10.2C23.2646 10.2614 23.3143 10.3347 23.3482 10.4156C23.3822 10.4965 23.3997 10.5833 23.3997 10.671C23.3997 10.7587 23.3822 10.8455 23.3482 10.9264C23.3143 11.0073 23.2646 11.0806 23.202 11.142L19.872 14.478C19.8095 14.5397 19.7355 14.5884 19.6542 14.6213C19.5728 14.6543 19.4858 14.6708 19.398 14.67Z" />
                    </g>
                    <defs>
                        <clipPath id="clip0_876_164">
                            <rect width="24" height="24" />
                        </clipPath>
                    </defs>
                </svg>
            </div>,
            route: "/logout",
        },
    ]
    const handleOnClick = (route) => {
        if (route === "/logout") {
            // localStorage.removeItem("adminToken");
            window.location.replace("/");
        } else {
            navigate(route);
        }
    };

    const [isOpen, setIsOpen] = useState(-1);

    const toggleSidebar = (key) => {
        setIsOpen(isOpen === key ? -1 : key);
    };

    const handleRoute = (route) => {
        for (let index = 0; index < menuItems.length; index++) {
            const element = menuItems[index];
            if (element?.subMenu && element?.subMenu?.length) {
                for (let key = 0; key < element?.subMenu.length; key++) {
                    const element1 = element?.subMenu[key];
                    if (element1?.route === route || element1?.subRoute === route || element1?.subSubRoute === route) {
                        setIsOpen(index);
                    }
                }
            }
        }
    };

    useEffect(() => {
        handleRoute(window.location.pathname);
    }, [menuItems]);

    return (
        <div className="flex flex-col top-0 h-full overflow-auto font-primary scrollHide">
            <div className={`  h-full  xl:w-[230px] lg:w-52 md:w-44 `}>
                <div className="p-4">
                    <NavLink to={"/"}>
                        <img src={Logo} alt="Logo" className="w-[100px] h-[50px] pl-6" />
                    </NavLink>
                </div>
                <nav>
                    <ul className="pr-5 flex flex-col gap-2 mx-0 text-base ">
                        {menuItems.map((item, key) => {
                            return (
                                <div key={key}>
                                    <div
                                        className={`w-full relative flex gap-24 items-center rounded hover:bg-[#f8f0e6] hover:text-[#49c1b7] hover:font-semibold cursor-pointer transition-all ease-in hover:scale-95
                                              ${window.location.pathname === item?.route
                                                || item?.subMenu?.find((subItem) => subItem?.route === window.location.pathname)
                                                || item?.subMenu?.find((subItem) => subItem?.subRoute === window.location.pathname)
                                                || item?.subMenu?.find((subItem) => subItem?.subSubRoute === window.location.pathname)
                                                ? "bg-[#f8f0e6] text-[#49c1b7] font-semibold"
                                                : ""
                                            } `}
                                        onClick={() => {
                                            handleOnClick(item?.route);
                                            toggleSidebar(key);
                                        }}
                                    >
                                        <button className=" pl-4 2xl:pl-6 p-2 flex gap-2 items-center">
                                            <div className={`${window.location.pathname === item?.route
                                                || item?.subMenu?.find((subItem) => subItem?.route === window.location.pathname)
                                                || item?.subMenu?.find((subItem) => subItem?.subRoute === window.location.pathname)
                                                || item?.subMenu?.find((subItem) => subItem?.subSubRoute === window.location.pathname)
                                                ? 'fill-[#49c1b7]' : 'fill-[#3F4040]'}`}>
                                                {item?.icon}
                                            </div>
                                            {item?.value}
                                        </button>
                                        <div className="absolute right-10">
                                            {item?.subMenu?.length ? (
                                                <>
                                                    {/* {isOpen === key ? <RxChevronUp /> : <RxChevronDown />} */}
                                                </>
                                            ) : (
                                                ""
                                            )}
                                        </div>
                                    </div>
                                    {isOpen === key ? (
                                        <>
                                            {item?.subMenu && item?.subMenu?.length
                                                ? item?.subMenu?.map((subItem, subkey) => {
                                                    const routes = [subItem?.route, subItem?.subRoute, subItem?.subSubRoute]
                                                    return (
                                                        <div
                                                            key={subkey}
                                                            onClick={() => handleOnClick(subItem?.route)}
                                                            className={`px-2 2xl:px-5 w-full hover:bg-[#f8f0e6] hover:scale-95 transition-all ease-in rounded mb-2 hover:text-[#49c1b7] cursor-pointer
                                                                 ${routes?.includes(window.location.pathname)
                                                                    ? "text-[#49c1b7] font-semibold"
                                                                    : ""
                                                                }
                          `}
                                                        >
                                                            <button
                                                                onClick={() => handleOnClick(subItem?.route)}
                                                                className="p-2 flex gap-2 items-center"
                                                            >
                                                                <div className={`${routes?.includes(window.location.pathname) ? 'fill-[#49c1b7]' : 'fill-[#3F4040]'}`}>
                                                                    {subItem?.icon}
                                                                </div>
                                                                {subItem?.value}
                                                            </button>
                                                        </div>
                                                    );
                                                })
                                                : ""}
                                        </>
                                    ) : (
                                        ""
                                    )}
                                </div>
                            );
                        })}
                    </ul>
                </nav>
            </div>
        </div>
    );
}

export default Sidebar;